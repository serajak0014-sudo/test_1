<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุงูุฃูุนุงู | ุงูุญููู ุงููุชูุงููุฉ</title>
  <meta name="description" content="ุญููู ูุชูุงููุฉ โ ููุชุฌุงุช ูุฎุฏูุงุช ุงูุฃูุนุงู." />
  <meta name="theme-color" content="#065fd4" />

  <!-- Fonts & Bootstrap RTL -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <link rel="icon" href="/assets/logo.png" />

  <style>
    /* ===========================
       Brand & theme variables
       =========================== */
    :root{
      --accent: #0d6efd;
      --accent-600: #0b5ed7;
      --accent-contrast: #ffffff;

      --bg: #f7f9fc;
      --card: #ffffff;
      --text: #0f1724;
      --heading: #071133;
      --muted: #6c757d;
      --border: rgba(15,23,36,0.06);

      --radius: 14px;
      --shadow-soft: 0 10px 30px rgba(10,18,30,0.06);

      /* page width */
      --page-max-width: 1280px; /* <-- increased width for product galleries */
      --page-padding: 24px;
    }

    [data-theme="dark"]{
      --accent: #4ea8ff;
      --accent-600: #2f7fd2;
      --accent-contrast: #071229;

      --bg: #031224;
      --card: #071827;
      --text: #e6f0ff;
      --heading: #ffffff;
      --muted: #9fb3cc;
      --border: rgba(255,255,255,0.04);
      --shadow-soft: 0 12px 40px rgba(2,8,20,0.5);
    }

    /* ===========================
       Global styles
       =========================== */
    html,body{
      font-family:'Cairo',sans-serif;
      background:var(--bg);
      color:var(--text);
      margin:0;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      transition: background-color .35s ease, color .35s ease;
    }
    a{ color:var(--accent); text-decoration:none; transition: color .2s; }
    a:hover{ color:var(--accent-600); text-decoration:underline; }
    img{ max-width:100%; display:block; }

    /* Custom wider container */
    .container {
      max-width: var(--page-max-width);
      padding-left: var(--page-padding);
      padding-right: var(--page-padding);
      margin-left:auto;
      margin-right:auto;
    }

    /* NAV */
    .navbar{ padding:0.8rem 0; border-bottom: 1px solid var(--border); background:transparent; }
    .site-logo{ width:64px; height:64px; object-fit:contain; border-radius:10px; }

    /* HERO: larger to host big banner or promo image */
    .hero-section{ padding:120px 0 80px; border-radius: calc(var(--radius) + 4px); position:relative; overflow:hidden; }
    .hero-bg{ position:absolute; inset:0; background-image: url('https://source.unsplash.com/2200x900/?office,technology'); background-size:cover; background-position:center; transform:scale(1.03); filter:contrast(.96) saturate(.95); z-index:0; }
    .hero-overlay{ position:absolute; inset:0; background: linear-gradient(180deg, rgba(3,10,27,0.58), rgba(3,10,27,0.35)); z-index:1; }
    .hero-content{ position:relative; z-index:2; text-align:center; color:var(--card); }

    .hero-title{ font-weight:700; font-size:3.2rem; margin-bottom:12px; color:var(--card); }
    .hero-lead{ font-size:1.15rem; color:rgba(255,255,255,0.95); margin-bottom:22px; }

    /* Controls (language/theme) */
    .control-btn{ border-radius:999px; padding:8px 12px; border:1px solid var(--border); background:transparent; color:var(--text); }
    .control-btn.active{ background:var(--accent); color:var(--accent-contrast); border-color:transparent; box-shadow:0 8px 24px rgba(10,55,130,0.12); }

    /* SERVICES */
    .service-card{ border-radius:12px; padding:28px; background:var(--card); border:1px solid var(--border); box-shadow:var(--shadow-soft); }
    .icon-box{ font-size:36px; color:var(--accent); margin-bottom:10px; }

    /* PRODUCTS / GALLERY */
    .products-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:18px; flex-wrap:wrap; }
    .products-grid{
      display:grid;
      gap:20px;
      grid-template-columns: repeat(4, 1fr); /* large screens: 4 columns */
    }
    @media (max-width:1100px){ .products-grid{ grid-template-columns: repeat(3, 1fr); } }
    @media (max-width:820px){ .products-grid{ grid-template-columns: repeat(2, 1fr); } }
    @media (max-width:520px){ .products-grid{ grid-template-columns: 1fr; } }

    .product-card{
      border-radius:12px; overflow:hidden; background:var(--card); border:1px solid var(--border); box-shadow:var(--shadow-soft);
      display:flex; flex-direction:column; min-height:100%;
    }
    .product-media{ position:relative; padding-top:62%; background:#eee; overflow:hidden; }
    .product-media img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
    .product-body{ padding:16px; display:flex; flex-direction:column; gap:10px; flex:1; }
    .product-title{ font-weight:700; color:var(--heading); margin:0; }
    .product-desc{ color:var(--muted); font-size:0.95rem; margin:0; flex:1; }
    .product-meta{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-top:10px; }
    .price{ font-weight:700; color:var(--accent); }
    .product-actions{ display:flex; gap:10px; margin-top:12px; }

    .btn-outline-card{ border:1px solid var(--border); background:transparent; color:var(--text); padding:8px 12px; border-radius:10px; }

    /* Gallery mini thumbnails */
    .gallery-strip{ display:flex; gap:10px; overflow:auto; padding:10px 0; }
    .gallery-thumb{ width:120px; height:80px; flex:0 0 auto; border-radius:8px; overflow:hidden; border:1px solid var(--border); }
    .gallery-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }

    /* Lightbox (simple) */
    .lightbox{
      position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.7); z-index:2000; padding:28px;
    }
    .lightbox.active{ display:flex; }
    .lightbox img{ max-width:1200px; max-height:80vh; border-radius:10px; box-shadow:0 20px 60px rgba(0,0,0,0.6); }

    /* FOOTER */
    footer{ margin-top:36px; padding:28px 0; color:var(--muted); border-top:1px solid var(--border); }

    /* Back to top */
    #backTop{ position:fixed; bottom:24px; left:24px; display:none; z-index:1200; border-radius:50%; padding:10px 12px; background:var(--accent); color:var(--accent-contrast); border:none; box-shadow:0 12px 36px rgba(8,20,40,0.16); }

    /* accessibility focus */
    :focus-visible{ outline:3px solid color-mix(in srgb, var(--accent) 20%, transparent); outline-offset:3px; }

    /* small screens hero */
    @media (max-width:768px){
      .hero-title{ font-size:1.9rem; }
      .hero-section{ padding:64px 0 40px; }
    }
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg" aria-label="Main navigation">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="#" aria-label="ุงูุงูุชูุงู ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ">
        <img src="/assets/logo.png" alt="ุดุนุงุฑ ุงูุฃูุนุงู" class="site-logo">
        <div style="display:flex;flex-direction:column;margin-inline-start:12px;">
          <span style="font-weight:700;color:var(--heading);font-size:1.1rem">ุงูุฃูุนุงู</span>
          <small style="color:var(--muted);font-size:0.85rem">ุงูุญููู ุงููุชูุงููุฉ</small>
        </div>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="ุชุจุฏูู ุงูุชููู">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link active" href="#">ุงูุฑุฆูุณูุฉ</a></li>
          <li class="nav-item"><a class="nav-link" href="#services">ุฎุฏูุงุชูุง</a></li>
          <li class="nav-item"><a class="nav-link" href="#products">ููุชุฌุงุชูุง</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">ุงุชุตู ุจูุง</a></li>
        </ul>

        <div class="d-flex align-items-center gap-2">
          <button id="btn-ar" class="control-btn active" title="ุงูุนุฑุจูุฉ" aria-pressed="true">ุงูุนุฑุจูุฉ</button>
          <button id="btn-en" class="control-btn" title="English" aria-pressed="false">EN</button>
          <button id="theme-btn" class="control-btn" title="ุชุจุฏูู ุงููุถุน" aria-pressed="false">๐</button>
          <a href="#contact" class="btn btn-primary rounded-pill px-4">ุงุทูุจ ุนุฑุถ ุณุนุฑ</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <section class="hero-section" aria-label="ูุณู ุงูููุฏูุฉ">
    <div class="hero-bg" aria-hidden="true"></div>
    <div class="hero-overlay" aria-hidden="true"></div>
    <div class="container hero-content">
      <h1 class="hero-title"><span data-lang="ar">ูุญู ูุจูู ูุณุชูุจู ุฃุนูุงูู</span><span data-lang="en" style="display:none">We build your business future</span></h1>
      <p class="hero-lead"><span data-lang="ar">ุญููู ุงุณุชุดุงุฑูุฉ ูุชูููุฉ ูุชูุงููุฉ ูุฑูุน ุฃุฏุงุก ุดุฑูุชู ูุชุญููู ููู ูุณุชุฏุงู.</span><span data-lang="en" style="display:none">End-to-end consulting and technical solutions to scale your business.</span></p>
      <div class="d-flex justify-content-center gap-2 hero-cta flex-wrap">
        <a href="#services" class="btn btn-light btn-lg rounded-pill px-4">ุงุณุชูุดู ุฎุฏูุงุชูุง</a>
        <a href="#products" class="btn btn-primary btn-lg rounded-pill px-4">ุชุตูุญ ุงูููุชุฌุงุช</a>
      </div>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="services" class="py-5" aria-labelledby="services-heading">
    <div class="container">
      <div class="text-center mb-5">
        <h2 id="services-heading" class="fw-bold" style="color:var(--heading)">ูุงุฐุง ููุฏู ูููุ</h2>
        <p class="text-muted">ูุฌููุนุฉ ูุชูุงููุฉ ูู ุงูุฎุฏูุงุช ุงููุตููุฉ ููุฌุงุญูู</p>
      </div>

      <div class="row g-4">
        <div class="col-md-4">
          <div class="service-card h-100 text-center">
            <div class="icon-box" aria-hidden="true"><i class="fas fa-chart-line"></i></div>
            <h4 class="fw-bold">ุชุทููุฑ ุงูุฃุนูุงู</h4>
            <p class="text-muted">ุงุณุชุฑุงุชูุฌูุงุช ููู ูุนุงูุฉ ูุชุญุณูู ุงูุฅูุฑุงุฏุงุช ูุงูุฃุฏุงุก.</p>
          </div>
        </div>

        <div class="col-md-4">
          <div class="service-card h-100 text-center">
            <div class="icon-box" aria-hidden="true"><i class="fas fa-laptop-code"></i></div>
            <h4 class="fw-bold">ุงูุญููู ุงูุชูููุฉ</h4>
            <p class="text-muted">ุชุตููู ูุชุทููุฑ ููุงูุน ูุชุทุจููุงุช ุชูุงูุจ ุฃุญุฏุซ ุงูุชูููุงุช.</p>
          </div>
        </div>

        <div class="col-md-4">
          <div class="service-card h-100 text-center">
            <div class="icon-box" aria-hidden="true"><i class="fas fa-bullhorn"></i></div>
            <h4 class="fw-bold">ุงูุชุณููู ุงูุฑููู</h4>
            <p class="text-muted">ุฅุฏุงุฑุฉ ุงูุญููุงุช ูุงูุฅุนูุงูุงุช ูุชุญููู ุฃูุตู ุฃุซุฑ ุฑููู.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section id="products" class="py-5" aria-labelledby="products-heading">
    <div class="container">
      <div class="products-header">
        <div>
          <h2 id="products-heading" class="fw-bold" style="color:var(--heading)">ููุชุฌุงุชูุง</h2>
          <p class="text-muted mb-0">ูู ุจุฅุถุงูุฉ ุตูุฑ ุงูููุชุฌ ูุงูุฃุณุนุงุฑ ููุง โ ุงูุดุจูุฉ ูุงุจูุฉ ููุชูุณุน.</p>
        </div>

        <!-- ูุซุงู ุฃุฏูุงุช ูุฑุฒ/ุจุญุซ (ุบูุฑ ูุชุตูุฉ): ูููู ุชูุตูููุง ูุงุญููุง -->
        <div class="d-flex gap-2 align-items-center">
          <input id="searchProducts" type="search" class="form-control" placeholder="ุงุจุญุซ ุนู ููุชุฌ..." style="min-width:220px;">
          <select id="filterCategory" class="form-select" style="min-width:180px;">
            <option value="">ูู ุงููุฆุงุช</option>
            <option value="dev">ุงูุญููู ุงูุชูููุฉ</option>
            <option value="marketing">ุงูุชุณููู</option>
            <option value="business">ุชุทููุฑ ุงูุฃุนูุงู</option>
          </select>
        </div>
      </div>

      <!-- gallery thumbnails -->
      <div class="gallery-strip mb-3" aria-hidden="false">
        <!-- ุงุณุชุจุฏู ุงูุตูุฑ ุจูุณุงุฑุงุชู ูู /assets/products/... -->
        <div class="gallery-thumb"><img src="https://source.unsplash.com/400x300/?product,office" alt="ุตูุฑุฉ 1" loading="lazy" data-large="https://source.unsplash.com/1600x900/?product,office"></div>
        <div class="gallery-thumb"><img src="https://source.unsplash.com/400x300/?product,technology" alt="ุตูุฑุฉ 2" loading="lazy" data-large="https://source.unsplash.com/1600x900/?product,technology"></div>
        <div class="gallery-thumb"><img src="https://source.unsplash.com/400x300/?product,gadget" alt="ุตูุฑุฉ 3" loading="lazy" data-large="https://source.unsplash.com/1600x900/?product,gadget"></div>
        <div class="gallery-thumb"><img src="https://source.unsplash.com/400x300/?office,workspace" alt="ุตูุฑุฉ 4" loading="lazy" data-large="https://source.unsplash.com/1600x900/?office,workspace"></div>
      </div>

      <!-- products grid -->
      <div id="productsGrid" class="products-grid">
        <!-- ูุซุงู ุจุทุงูุฉ ููุชุฌ: ุงูุณุฎ/ุนุฏู ูุฐู ุงูุจุทุงูุงุช ูุฅุถุงูุฉ ุฃูุซุฑ -->
        <article class="product-card" data-category="dev">
          <div class="product-media">
            <img src="https://source.unsplash.com/800x600/?laptop,app" alt="ููุชุฌ 1" loading="lazy" tabindex="0" data-large="https://source.unsplash.com/1600x1200/?laptop,app">
          </div>
          <div class="product-body">
            <h3 class="product-title">ุญู ููุตุฉ ุฅููุชุฑูููุฉ</h3>
            <p class="product-desc">ุจูุงุก ููุตุฉ ุฅุฏุงุฑุฉ ุฃุนูุงู ูุชูุงููุฉ ูุน ููุญุฉ ุชุญูู ูุชูุงุฑูุฑ ูุฎุตุตุฉ.</p>
            <div class="product-meta">
              <div class="price">3,200 ุฑ.ุณ</div>
              <div class="product-actions">
                <button class="btn btn-outline-card" type="button">ุชูุงุตูู</button>
                <button class="btn btn-primary" type="button">ุงุทูุจ ุงูุขู</button>
              </div>
            </div>
          </div>
        </article>

        <article class="product-card" data-category="marketing">
          <div class="product-media">
            <img src="https://source.unsplash.com/800x600/?marketing,ads" alt="ููุชุฌ 2" loading="lazy" data-large="https://source.unsplash.com/1600x1200/?marketing,ads">
          </div>
          <div class="product-body">
            <h3 class="product-title">ุฎุทุฉ ุชุณููู ุฑููู</h3>
            <p class="product-desc">ุญุฒูุฉ ุดูุฑูุฉ ูุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช ูุฑูุน ุชูุงุนู ุงูุฌูููุฑ.</p>
            <div class="product-meta">
              <div class="price">1,200 ุฑ.ุณ/ุดูุฑ</div>
              <div class="product-actions">
                <button class="btn btn-outline-card" type="button">ุชูุงุตูู</button>
                <button class="btn btn-primary" type="button">ุงุทูุจ ุงูุขู</button>
              </div>
            </div>
          </div>
        </article>

        <article class="product-card" data-category="business">
          <div class="product-media">
            <img src="https://source.unsplash.com/800x600/?consulting,business" alt="ููุชุฌ 3" loading="lazy" data-large="https://source.unsplash.com/1600x1200/?consulting,business">
          </div>
          <div class="product-body">
            <h3 class="product-title">ุงุณุชุดุงุฑุฉ ุชุทููุฑ ุฃุนูุงู</h3>
            <p class="product-desc">ุฌูุณุงุช ุงุณุชุดุงุฑูุฉ ูุชุญุฏูุฏ ูุฑุต ุงูููู ูุฎุฑูุทุฉ ุทุฑูู ุชูููุฐูุฉ.</p>
            <div class="product-meta">
              <div class="price">900 ุฑ.ุณ/ุฌูุณุฉ</div>
              <div class="product-actions">
                <button class="btn btn-outline-card" type="button">ุชูุงุตูู</button>
                <button class="btn btn-primary" type="button">ุงุทูุจ ุงูุขู</button>
              </div>
            </div>
          </div>
        </article>

        <article class="product-card" data-category="dev">
          <div class="product-media">
            <img src="https://source.unsplash.com/800x600/?mobile,app" alt="ููุชุฌ 4" loading="lazy" data-large="https://source.unsplash.com/1600x1200/?mobile,app">
          </div>
          <div class="product-body">
            <h3 class="product-title">ุชุทุจูู ููุจุงูู ูุฎุตูุต</h3>
            <p class="product-desc">ุชุทุจูู iOS ูAndroid ุจุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุชุทููุฑุฉ ูุฏูุฌ API.</p>
            <div class="product-meta">
              <div class="price">ูู 5,400 ุฑ.ุณ</div>
              <div class="product-actions">
                <button class="btn btn-outline-card" type="button">ุชูุงุตูู</button>
                <button class="btn btn-primary" type="button">ุงุทูุจ ุงูุขู</button>
              </div>
            </div>
          </div>
        </article>

        <!-- ุฃุถู ุงููุฒูุฏ ูู ุงูุจุทุงูุงุช ููุง -->
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="py-5" aria-labelledby="contact-heading">
    <div class="container">
      <div class="text-center mb-4">
        <h2 id="contact-heading" class="fw-bold" style="color:var(--heading)">ุชูุงุตู ูุนูุง</h2>
        <p class="text-muted">ูู ูุฏูู ููุชุฌ ุชุฑูุฏ ุนุฑุถูุ ุฃุถู ุชูุงุตููู ุนุจุฑ ูููุฐุฌ ุงูุงุชุตุงู.</p>
      </div>

      <div class="row justify-content-center">
        <div class="col-md-8">
          <form id="contactForm" novalidate>
            <div class="row mb-3">
              <div class="col">
                <label for="name" class="visually-hidden">ุงูุงุณู</label>
                <input type="text" id="name" class="form-control" placeholder="ุงูุงุณู" aria-label="ุงูุงุณู" required>
              </div>
              <div class="col">
                <label for="email" class="visually-hidden">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                <input type="email" id="email" class="form-control" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" aria-label="ุงูุจุฑูุฏ" required>
              </div>
            </div>

            <div class="mb-3">
              <label for="message" class="visually-hidden">ุงูุฑุณุงูุฉ</label>
              <textarea id="message" class="form-control" rows="6" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง..." required></textarea>
            </div>

            <div class="d-grid">
              <button type="submit" class="btn btn-primary btn-lg">ุฅุฑุณุงู ุงูุฑุณุงูุฉ</button>
            </div>

            <div id="formMsg" class="mt-3" role="status" aria-live="polite" style="display:none;"></div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="container d-flex justify-content-between align-items-center flex-column flex-md-row gap-3">
      <div>
        <p class="mb-0" style="color:var(--muted)">ุฌููุน ุงูุญููู ูุญููุธุฉ &copy; <span id="site-year"></span> ุงูุฃูุนุงู</p>
      </div>
      <div>
        <a href="#" class="text-muted me-3" rel="noopener noreferrer" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="text-muted me-3" rel="noopener noreferrer" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" class="text-muted" rel="noopener noreferrer" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
  </footer>

  <!-- Lightbox overlay -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-hidden="true">
    <img id="lightboxImg" src="" alt="ุนุฑุถ ุงูุตูุฑุฉ">
  </div>

  <!-- Back to top -->
  <button id="backTop" aria-label="ุฑุฌูุน ููุฃุนูู" title="ุฑุฌูุน ููุฃุนูู"><i class="fas fa-chevron-up"></i></button>

  <!-- Bootstrap JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script defer>
    /* =========================
       Language & theme toggles
       ========================= */
    (function(){
      const LANG_KEY = 'site_lang';
      const THEME_KEY = 'site_theme';

      const btnAr = document.getElementById('btn-ar');
      const btnEn = document.getElementById('btn-en');
      const themeBtn = document.getElementById('theme-btn');

      function setLang(lang){
        localStorage.setItem(LANG_KEY, lang);
        document.documentElement.lang = lang === 'en' ? 'en' : 'ar';
        document.documentElement.dir = lang === 'en' ? 'ltr' : 'rtl';
        document.querySelectorAll('[data-lang]').forEach(el=>{
          el.style.display = el.getAttribute('data-lang') === lang ? '' : 'none';
        });
        btnAr.classList.toggle('active', lang==='ar');
        btnEn.classList.toggle('active', lang==='en');
        btnAr.setAttribute('aria-pressed', lang==='ar');
        btnEn.setAttribute('aria-pressed', lang==='en');
      }

      function applyTheme(theme){
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem(THEME_KEY, theme);
        themeBtn.classList.toggle('active', theme === 'dark');
        themeBtn.setAttribute('aria-pressed', theme === 'dark');
      }

      function init(){
        const savedLang = localStorage.getItem(LANG_KEY) || (navigator.language && /^en/i.test(navigator.language) ? 'en' : 'ar');
        setLang(savedLang);
        const savedTheme = localStorage.getItem(THEME_KEY) || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        applyTheme(savedTheme);

        btnAr.addEventListener('click', ()=> setLang('ar'));
        btnEn.addEventListener('click', ()=> setLang('en'));
        themeBtn.addEventListener('click', ()=> applyTheme(document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'));
      }
      init();
    })();

    /* =========================
       Simple product filtering (client-side)
       ========================= */
    (function(){
      const search = document.getElementById('searchProducts');
      const filter = document.getElementById('filterCategory');
      const grid = document.getElementById('productsGrid');

      function updateFilter(){
        const q = (search.value || '').trim().toLowerCase();
        const cat = filter.value;
        Array.from(grid.children).forEach(card=>{
          const title = card.querySelector('.product-title').textContent.toLowerCase();
          const desc = card.querySelector('.product-desc').textContent.toLowerCase();
          const matchesQ = !q || title.includes(q) || desc.includes(q);
          const matchesCat = !cat || card.dataset.category === cat;
          card.style.display = (matchesQ && matchesCat) ? '' : 'none';
        });
      }

      search.addEventListener('input', updateFilter);
      filter.addEventListener('change', updateFilter);
    })();

    /* =========================
       Lightbox for gallery & product images
       ========================= */
    (function(){
      const lightbox = document.getElementById('lightbox');
      const img = document.getElementById('lightboxImg');

      // open when clicking thumbnails in gallery-strip
      document.querySelectorAll('.gallery-thumb img, .product-media img').forEach(el=>{
        el.style.cursor = 'zoom-in';
        el.addEventListener('click', (e)=>{
          const src = el.dataset.large || el.src;
          img.src = src;
          img.alt = el.alt || 'ุตูุฑุฉ';
          lightbox.classList.add('active');
          lightbox.setAttribute('aria-hidden','false');
        });
        // keyboard support: Enter opens
        el.addEventListener('keydown', (ev)=>{
          if(ev.key === 'Enter' || ev.key === ' '){
            ev.preventDefault();
            el.click();
          }
        });
      });

      lightbox.addEventListener('click', ()=>{
        lightbox.classList.remove('active');
        lightbox.setAttribute('aria-hidden','true');
        img.src = '';
      });

      // close on Escape
      document.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape' && lightbox.classList.contains('active')){
          lightbox.classList.remove('active');
          lightbox.setAttribute('aria-hidden','true');
          img.src = '';
        }
      });
    })();

    /* =========================
       Contact form (simple client-side)
       ========================= */
    (function(){
      const form = document.getElementById('contactForm');
      const msg = document.getElementById('formMsg');

      form.addEventListener('submit', async function(e){
        e.preventDefault();
        msg.style.display = 'none';
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();
        const lang = localStorage.getItem('site_lang') || (navigator.language && /^en/i.test(navigator.language) ? 'en' : 'ar');

        if(!name || !email || !message){
          msg.style.display = '';
          msg.style.color = '#d63384';
          msg.textContent = lang === 'ar' ? 'ูุฑุฌู ุชุนุจุฆุฉ ุฌููุน ุงูุญููู.' : 'Please fill in all required fields.';
          return;
        }

        // mock send
        msg.style.display = '';
        msg.style.color = '#198754';
        msg.textContent = lang === 'ar' ? 'ุชู ุฅุฑุณุงู ุฑุณุงูุชู โ ุดูุฑูุง! ุณูุชูุงุตู ูุนู ูุฑูุจูุง.' : 'Your message has been sent โ thank you!';
        form.reset();
        setTimeout(()=> msg.style.display = 'none', 5000);
      });
    })();

    /* =========================
       Back to top
       ========================= */
    (function(){
      const back = document.getElementById('backTop');
      window.addEventListener('scroll', ()=> back.style.display = window.scrollY > 300 ? 'block' : 'none');
      back.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));
      document.getElementById('site-year').textContent = new Date().getFullYear();
    })();
  </script>
</body>
</html>
